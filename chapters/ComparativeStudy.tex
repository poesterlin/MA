\chapter{Comparative Study}
The user study to compare teleportation techniques and to provide quantitative figures is detailed in the following chapter. Using the detection methods from the previous chapters in with a virtual environment, a controlled lab study was performed. 



% TODO: picture of the study environment

\section{Study Design}
When looking at the study designs done by by Sch√§fer et al \cite{Schafer2021} or by Caggianese et al. \cite{Caggianese} it is apparent that task completion time is an important measurement to rank teleportation methods by. There are some problems with this approach though. If somebody would implement a teleportation method that takes the user straight to the end of the map where their destination is, it would lead to the quickest task completion times possible. This does not make the method easy to control or satisfying to use however. Therefor the task completion time was only used as a secondary measure while measures like usability and task load are more appropriate to compare the methods, since they take the users opinions into account. 

Research Questions:
\begin{enumerate}
    \item How do the different teleportation techniques change the user experience?
    \item What effect do different teleportation techniques have on the way the tasks are executed?
    \item How do the different teleportation techniques effect the subjective workload?
\end{enumerate}

\subsection{Task One}
The first task is based on a task that would be a realistic use case for a locomotion system. It was conducted using a playful magical VR environment shown in ... %ref figure. 
The participant was tasked to collect an ingredient for a magic potion that could be hidden anywhere on the map. The teleportation system has to be used to search for the ingredient and for it to be brought back to the starting point. The user received a short in-game tutorial each time with a picture of the ingredient that should be found with animated hands presenting the gesture and how to use it. This was inspired by the tutorial in the ... game %cite
Each teleport was recorded, together with the players position and head gaze direction. The task was specifically designed not to put too much pressure on the participant so they can get to know the gesture and ideally have fun looking around. However, like in a real application, the teleportation was still an essential part of the experience and so small details about the implementation, the detection and the ergonomics would still stand out to the participant. The ingredients were randomly hidden in one out of eight predefined spots so the user would have to search in a new spot every time.

\subsection{Task Two}
The second task was based on the work from Bozgeyikli et al. %cite
The original design for the task was followed as closely as possible. There were however some changes that needed to be made to adapt it. Like before, the task starts by first showing an animated tutorial again. This time the user is instructed to teleport between platforms placed on the ground quickly. This time the environment is kept very simple, so the focus is on the task and so the user would not get distracted by the world. Unlike before, during this task the task execution time and the accuracy were the main focus. In order to record the start time correctly the original environment by Bozgeyikli et al. was modified and a button was placed in the center of the platforms. The participants were instructed to teleport to the button and press it once they felt ready to start. After the button was activated, it was removed from the environment and the first platform was highlighted. Like in the original task the next platform on the ground would light up to tell the user where to teleport to. To give the user feedback, a quick confirmation sound played when a teleport hit the correct platform. The player was instructed to stay on the platform for three seconds, after which a different sound was played and the next platform was highlighted. If a user accidentally teleported off the platform too soon, an error sound was played and they had to return to the platform and wait for the full three seconds. 

\section{Dependent Variables and Operationalization}
To measure the user experience of the locomotion systems for the first research question, the participants filled out a User Experience Questionnaire (UEQ) based on the work of Laugwitz et al. \cite{Laugwitz2008}. The UEQ questionnaire includes 26 scales that are evaluated to produce scores for the six factors attractiveness, efficiency, dependability, perspicuity, stimulation, and novelty. 
To get more divers comments from the participants, a semi-structured interview was conducted after the tasks where completed. Participants were asked to rank the gestures by preference and comfort. Also, they were asked to come up with advantages and disadvantages of each gesture.

To get information on how the gesture effects the way the tasks are executed for the second research question, various information was recorded. This included all teleport events with information on the destination and the target, the distance traveled, the time they were executed, during which task, by which participant and using which kind of gesture. Also the participants movement and head gaze direction was recorded ten times every second.  

Data to answer the third research question was collected using the NASA-TLX questionnaire. % TODO cite Hart & Staveland, 1988
It was designed to get insights into the participants perceived workload. It was chosen for this study since it is a standard in the industry and to give information about how performing the tasks using the different gestures systems might result in a difference in the workload. The NASA-TLX questionnaire consists of six scales for participants to rate their perceived mental demands, physical demands, time demands, performance, effort, and frustration. To simplify the scoring process, a short version of the NASA-TLX was used that does not include a weighting procedure. % TODO cite (Bustamante & Spain, 2008).

\section{Participants}
Eight-teen participants (9 female, 9 male) between 19 and 29 years old ($M=23.18,SD=2.58$) completed the study. Only one person considered themselves a VR expert, while everyone else reported very limited or no experience with VR. Two of the participants were left handed, the 16 other participants had a dominant right hand. 

% Research question: 
% wie unterscheiden sich die 3 gesten, lernability, statisfaction
% How does the user experience differ between the 3 gestures?

% \section{Requirements}
% This section explains the requirements set to evaluate the gesture.
% For the study, the requirements have to be measurable. Therefor criteria for every requirement have to be set:

% \begin{enumerate}
%     \item The gesture can be recognized by the tracking system with a success rate of at least 90\%
%     \item The system is efficient and effective to use
%     \item No more than 20\% of users experience some cybersickness, no participant has to abort the test prematurely
%     \item Even after extended use, the gesture does create strain in over 10\% of participants
%     \item System has a SUS score of above 70.
%     \item The user can get a sense of the distance they covered
%     \item The system encourages walking in real life if possible and is not used to travel distances below 50cm
% \end{enumerate}



\section{Apparatus}
The tasks were conducted using a Meta Quest 2 with hand-tracking enabled. The headset was connected to the internet and submitted all recorded data to a custom cloud server instance. To be able to monitor and control the task, the server also had a web interface with a number of tools available, shown in figure \ref{fig:settings}. The study operator could control which task is currently running. During testing it was found that it can be disorienting for the participant to be switched from on scene to another. That is why this control was done manually so the operator can make sure the participant knows what is coming and is not surprised by the scene switch.

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/settings.JPG}
    \caption{Settings menu to change scenes and get information about the current state.}
    \label{fig:settings}
\end{figure}

To check if the gesture was recorded correctly, the server provides a 3D visualization of the gesture, as well as a way to delete improperly recorded information as shown in figure \ref{fig:vis}. This visualization also shows which of the previous recordings are also able to be used to aid the gesture detection step, since they are similar to the current recording. They are shown in green in the visualization, while red points represent ignored data points. To be able to find which data points belong to which recording each can be selected individually and deleted if there was a problem. To be able to find outliers quickly, the average distance to all the other gestures is also displayed in the selection menu. This was very handy to delete a recording that was assigned to the wrong gesture state and therefore very dissimilar to the other recordings. The recording would then show a large distance to the others and could easily be deleted and rerecorded. All this was very important so the calibration was consistent and reliable for every participant.

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/point cloud vis.jpg}
    \caption{3D visualization of recorded gesture information as a point cloud, together with static joints.}
    \label{fig:vis}
\end{figure}
\begin{figure}[!htb]
    \minipage{0.49\textwidth}
        \includegraphics[width=\linewidth]{figures/point cloud vis.JPG}
    \endminipage\hfill
    \minipage{0.\textwidth}
        \includegraphics[width=\linewidth]{figures/point cloud vis2.JPG}
        \label{fig:vis}
    \endminipage\hfill
    \caption{3D visualization of recorded gesture information for two different states as a point cloud, together with static joints. The green points are selected during the calibration step.}
\end{figure}

As shown in figure \ref{fig:map}, the operator was also able to see the position and gaze direction of the participant on a map, as well as the position of the magic potion. This was done in order to be able to give some support to the participant if they required it and to check if the data recording was working. 

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/map.png}
    \caption{Study operators view of the participants position and gaze direction.}
    \label{fig:map}
\end{figure}
% TODO: update grafik

To be able to identify what data point belongs to what participant, the server included an interface to manage runs, as shown in figure \ref{fig:runs}. The operator would first start a new run, which generates a random 3 letter code. This code was used to be able to match the recording data of one participant anonymously to other data collected during the task, like from the questionnaires. The operator stopped the run after the tasks were completed using the interface and was then able to download and backup the data for each run individually.

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/runs.JPG}
    \caption{List of study participants runs.}
    \label{fig:runs}
\end{figure}

All of the commentary the participants gave as well as video of the participants was recoded using a Fujifilm X-T4 camera. A sample of the video can be seen in figure \ref{fig:video}.

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/participant.PNG}
    \caption{Example of a participant during the study}
    \label{fig:video}
\end{figure}

For the questionnaires, an Apple Ipad Pro was used as seen in figure \ref{fig:Ipad}. This way the participants could easily fill out a custom online form consisting of all the questions and the possible answers with their respective scales from positive to negative for all the gestures. This method was also used to collect the demographic information of all the participants. All submissions were collected together with the anonymous unique 3 letter code of the participant that was generated to identify which datapoint belongs to which participant. 

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.6\textwidth]{figures/questionaire.png}
    \caption{Example of a questionnaire on the Apple Ipad Pro device.}
    \label{fig:Ipad}
\end{figure}

\section{Procedure}
Before the task could start, the participants were informed about teleportation in general and that there is not yet an established way to control teleportation using hand-tracking.

The operator would then give instructions how the calibration is performed, show the participant how the gesture works and calibrate it together with the participant. The calibration procedure was run three times per state, switching gesture states after each recording. The natural differences between each repetition gave added flexibility since the recordings are all used as a reference during the gesture detection. After the three recording steps for each gesture state, the operator would check the recordings if they where recorded and stored correctly. If this was the case the calibration was done, otherwise the recordings were deleted using the 3D visualizer tool and the step was repeated. This was only the case once however, the other recordings were done correctly and was easy to fix with a quick rerun of the calibration. 

After the calibration, the participants would complete both tasks and fill out the questionnaires. This was not done using the VR headset itself, but using a tablet device to give the user some resting time between each run. This procedure was repeated for all three gestures. 
The order of the gestures the participants had to use was fully counter balanced in order to minimize the learning effect. This means that during the study it was made sure that three participants would always receive each of the six combinations possible. 
After all tasks and quantitative information was collected, the participants where asked to give some qualitative feedback and to share the impressions they got from using the system, as well as rank the gestures. The ranking was both done for overall preference and for how ergonomic the gesture was to use.   

%TODO: ablauf schaubild

\section{Results}
This section presents the results of the study. Several methods were used for the statistical analysis. The Shapiro-Wilk test was used to check whether the data were normally distributed. Since the data was not normally distributed, a non-parametric approach was used for detailed analysis. Friedman ANOVA was used to determine the differences between the three gestures. If this test showed significant differences, further analysis was performed using the Dunn-Bonferron test. All tests were held to a standard alpha level of 0.05. For the
pairwise comparisons, the Bonferroni correction required to adjust the alpha level to $(.05/3) \approx .016$.

\subsection{Task Completion Time}
The analysis of the task completion time for the second task shows a statistically significant difference when using the different gesture systems. The time was recorded individually for every checkpoint in the second task. The analysis using the Friedman‚Äôs test shows an overall significant difference between the gestures. Additionally, there are significant differences comparing the triangle and palm gestures, as well as the index and palm gestures. The difference between the task completion time using the triangle or index gesture was not significant though with an alpha level of $.136$.

% TODO: Diagram with error bars

\subsection{Teleport Trajectories}
The data recorded from the second task is displayed in figure \ref{fig:exp2maps} similarly to the way Bozgeyikli et al. %cite
display their results. 

\begin{figure}[!htb]
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/index map.png}
        \caption{Map of all teleport locations using the index gestures}\label{fig:map_index}
    \endminipage\hfill
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/palm map.png}
        \caption{Map of all teleport locations using the palm gestures}\label{fig:map_palm}
    \endminipage\hfill
    \minipage{0.32\textwidth}%
        \includegraphics[width=\linewidth]{figures/triangle map.png}
        \caption{Map of all teleport locations using the triangle gestures}\label{fig:map_triangle}
        \label{fig:exp2maps}
    \endminipage
\end{figure}
    
The visualizations clearly show a difference in how chaotic the teleport targets where placed using the index gesture, and how much cleaner they are when the participants used the triangle gesture, with the palm gesture somewhere in the middle. However none of the gesture based teleportation techniques produce as clean and efficient routes between the targets as the results shown by Bozgeyikli et al. This indicates that the triangle gesture system is the method that allows users to teleport with the most accuracy and repeatability, with the palm gesture system on second place. It is clear however, that there is still some room for improvement even for the triangle gesture system. 

\begin{figure}[!htb]
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/index heading.png}
        \caption{Teleport trajectories using the index gestures}\label{fig:map_index2}
    \endminipage\hfill
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/palm heading.png}
        \caption{Teleport trajectories using the palm gestures}\label{fig:map_palm2}
    \endminipage\hfill
    \minipage{0.32\textwidth}%
        \includegraphics[width=\linewidth]{figures/triangle heading.png}
        \caption{Teleport trajectories using the triangle gestures}\label{fig:map_triangle2}
    \endminipage
\end{figure}

The teleport trajectories seen in figures \ref{fig:map_index2} to \ref{fig:map_triangle2} show where all of the teleport locations were placed relative to the users position and head gaze direction. This data was only collected from the accuracy task. This was done because before the task the users were instructed to only teleport quickly from one check point to another so ideally this would result in only teleport trajectories straight up. As seen in the visualizations, there is quite a bit of variance. The index gesture produces the most false positive activations which contribute to the teleport locations behind the user. Otherwise the most trajectories are going slightly to the left since that would give the user a more ergonomic hand position. The palm gesture results in a much more open spread of trajectories. Users reported the teleport location changing when they closed their hands to confirm the teleport location which is an explanation for this result. There trajectories also do not range as far as the other gestures do which matches participants comments about a strained writs when trying to teleport far. There are on the other hand far less teleport locations behind the user which is consistent with the participants comments about less false positive activations with the palm gesture compared to the index gesture. The triangle gesture's visualization shows a narrow spread of teleport trajectories, with only a few short teleports behind the user that could also be done on purpose to teleport a step back after traveling too far. This result can therefore be considered the best since it matches the expected pattern the best. 

\subsection{Time Between Teleports}
The time users took between teleports was used as a measurement because in the second task users where instructed to teleport between the checkpoints as fast as possible. That resulted in much shorter delays between teleports. The system allows one teleport every 0.7 seconds but it takes the user some additional time to reorient themselves, pick the next target and execute another teleport. There is a statistically significant difference of the time between teleports that the users took when using the different gesture systems. The pairwise comparisons are also all leading to the same result with a statistically significant difference and an alpha level below the excepted level of $.016$. 


% \subsection{Cybersickness}
% After the user study not a single user reported any problems with cybersickness or quit the task even after a session of 40 minutes. Cybersickness was a problem during the implementation testing where the detection algorithm was still in development because of false positive detections that could make the system unpredictable.

\subsection{Quantitative Results}
The comparing the individual dimensions of the NASA-TLX and the UEQ questionnaires, as well as the overall results of all dimensions combined does not lead to statistically significant findings. The overall scores favour the triangle gesture but not to a point that could be considered significantly better than the other gestures according to the alpha level of $0.05$. This result is somewhat surprising since the quantitative results mostly favour the triangle gesture. 


\subsection{Interview Results}
During the interview the participants where asked to give commentary for every gesture, both positively and negatively. The opinions the participants expressed are evaluated in the following section. In general there is not a clearly overall preferred gesture. Some participants reported the opening and closing of the entire hand to form a fist as a confirmation step for the palm gesture to be very tiresome, while others specifically reported this to be the easiest part and that they could do this all day. The participants where asked to rank the gestures based on preference and based on ergonomic they found the gestures to be. Both categories have the triangle gesture in first place but the result are not statistically significant. The users commentary is summarized in table \ref{tbl:interview1}. 

\begin{table}[]
\begin{tabular}{llll}
\hline
sentiment &
    index \\ \hline
\multicolumn{1}{|l|}{positive} &
    \multicolumn{1}{l|}{fast, only little tiring, accurate, fun} \\ \hline
negative &
    \makecell{produces the most false positive activations, \\index finger tips down to meet the thumb while activating, \\most susceptable to tracking errors for example when turning hand, \\unpredictable, \\conflicted with gesture to grab flask} \\ \hline
\end{tabular}%
\label{tbl:interview1}
\end{table}

\begin{table}[]
\begin{tabular}{llll}
\hline
sentiment &
    palm \\ \hline
\multicolumn{1}{|l|}{positive} &
    \multicolumn{1}{l|}{easy to do, known gesture, natural} \\ \hline
negative &
    \makecell{tiring,\\ puts pressure on wrist,\\ difficult to aim acturatly \\ since closing the hand can change the target\\ and it is not easy to hold the hand parallel to the body} \\ \hline
\end{tabular}%
\label{tbl:interview2}
\end{table}

\begin{table}[]
\begin{tabular}{llll}
\hline
sentiment &
    triangle \\ \hline
\multicolumn{1}{|l|}{positive} &
    \multicolumn{1}{l|}{predictable, easy to aim, uses two hands, kreative} \\ \hline
negative &
    \makecell{difficult to aim far,\\ 2 handed use,\\ some activation problems} \\ \hline
\end{tabular}%
\label{tbl:interview3}
\end{table}

The comments seem to come mainly from a point of frustration with a gesture or the tracking system. So while there are less and more negative comments, only few people reported having a fun and comfortable time using the gestures. The most negative feedback was aimed at the index gesture, since it produced the most false positive activations and therefore frustrated some participants. This issue might be solvable in the future with better tracking. On Second place was the palm gesture with mostly feedback concerning the gesture itself and not the tracking. Opening and closing the hand a lot was very tiring for some people. Additionally, activating the gesture would always move the target point at least a little. The comment that it was hard to teleport far can also be seen in the data, where the palm gesture has the shortest average teleport distance. The triangle gesture received much less negative comments, manly about ergonomic problems that make it difficult to tilt the hands up and that some users prefer a one-handed gesture. There where however also participants that preferred two hands since they would make the gesture more distinctly different from other hand gestures. 


\section{Limitations}
The system was not configured for left handed gestures to eliminate another variable but this would be needed for use in a productive environment and was also something that was requested by the participants even by somebody with a dominant right hand to get some variety. 

The study originally included an task designed to compare the teleportation methods based on path integration like Bhandari et al. \cite{Bhandari} did in their study. This was dropped because of a lack of time but could be an interesting task to run in the future.
