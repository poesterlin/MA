\chapter{Comparative Study}
The user study to compare teleportation techniques and to provide quantitative figures is detailed in the following chapter. Using the detection methods from the previous chapters in with a virtual environment, a controlled lab study was performed. 



% TODO: picture of the study environment

\section{Study Design}
When looking at the study designs done by by Sch√§fer et al \cite{Schafer2021} or by Caggianese et al. \cite{Caggianese} it is apparent that task completion time is an important measurement to rank teleportation methods by. There are some problems with this approach though. If somebody would implement a teleportation method that takes the user straight to the end of the map where their destination is, it would lead to the quickest task completion times possible. This does not make the method easy to control or satisfying to use however. Therefor the task completion time was only used as a secondary measure while measures like usability and task load are more appropriate to compare the methods, since they take the users opinions into account. 

\section{Participants}
Eight-teen participants (9 female, 9 male) between 19 and 29 years old ($M=23.18,SD=2.58$) completed the study. Only one person considered themselves a VR expert, while everyone else reported very limited or no experience with VR. Two of the participants were left handed, the 16 other participants had a dominant right hand. 

% Research question: 
% wie unterscheiden sich die 3 gesten, lernability, statisfaction
% How does the user experience differ between the 3 gestures?

% \section{Requirements}
% This section explains the requirements set to evaluate the gesture.
% For the study, the requirements have to be measurable. Therefor criteria for every requirement have to be set:

% \begin{enumerate}
%     \item The gesture can be recognized by the tracking system with a success rate of at least 90\%
%     \item The system is efficient and effective to use
%     \item No more than 20\% of users experience some cybersickness, no participant has to abort the test prematurely
%     \item Even after extended use, the gesture does create strain in over 10\% of participants
%     \item System has a SUS score of above 70.
%     \item The user can get a sense of the distance they covered
%     \item The system encourages walking in real life if possible and is not used to travel distances below 50cm
% \end{enumerate}

\subsection{Experiment One}
The first experiment is based on a task that would be a realistic use case for a locomotion system. It was conducted using a playful magical VR environment shown in ... %ref figure. 
The participant was tasked to collect an ingredient for a magic potion that could be hidden anywhere on the map. The teleportation system has to be used to search for the ingredient and for it to be brought back to the starting point. The user received a short in-game tutorial each time with a picture of the ingredient that should be found with animated hands presenting the gesture and how to use it. This was inspired by the tutorial in the ... game %cite
Each teleport was recorded, together with the players position and head gaze direction. The task was specifically designed not to put too much pressure on the participant so they can get to know the gesture and ideally have fun looking around. However, like in a real application, the teleportation was still an essential part of the experience and so small details about the implementation, the detection and the ergonomics would still stand out to the participant. The ingredients were randomly hidden in one out of eight predefined spots so the user would have to search in a new spot every time.

\subsection{Experiment Two}
The second experiment was based on the work from Bozgeyikli et al. %cite
The original design for the experiment was followed as closely as possible. There were however some changes that needed to be made to adapt it. Like before, the experiment starts by first showing an animated tutorial again. This time the user is instructed to teleport between platforms placed on the ground quickly. This time the environment is kept very simple, so the focus is on the task and so the user would not get distracted by the world. Unlike before, during this experiment the task execution time and the accuracy were the main focus. In order to record the start time correctly the original environment by Bozgeyikli et al. was modified and a button was placed in the center of the platforms. The participants were instructed to teleport to the button and press it once they felt ready to start. After the button was activated, it was removed from the environment and the first platform was highlighted. Like in the original experiment the next platform on the ground would light up to tell the user where to teleport to. To give the user feedback, a quick confirmation sound played when a teleport hit the correct platform. The player was instructed to stay on the platform for three seconds, after which a different sound was played and the next platform was highlighted. If a user accidentally teleported off the platform too soon, an error sound was played and they had to return to the platform and wait for the full three seconds. 

\subsection{Questionnaire}
After each completion of both experiments, participants would fill out two questionnaires. 

\subsubsection{NASA-TLX}
The NASA-TLX questionnaire % TODO cite Hart & Staveland, 1988
was designed to get insights into the participants perceived workload. It was chosen for this study since it is a standard in the industry and to give information about how performing the experiments using the different gestures systems might result in a difference in the workload. The NASA-TLX questionnaire consists of six scales for participants to rate their perceived mental demands, physical demands, time demands, performance, effort, and frustration. To simplify the scoring process, a short version of the NASA-TLX was used that does not include a weighting procedure. % TODO cite (Bustamante & Spain, 2008).

\subsubsection{User Experience Questionnaire (UEQ)}
To get information about the user experience of the locomotion systems, the participants also filled out a User Experience Questionnaire (UEQ) based on the work of Laugwitz et al. \cite{Laugwitz2008}. The UEQ questionnaire includes 26 scales that are evaluated to produce scores for the six factors attractiveness, efficiency, dependability, perspicuity, stimulation, and novelty.

\section{Apparatus}
%TODO: tablet questionnaire

The experiments were conducted using a Meta Quest 2 with hand-tracking enabled. The headset was connected to the internet and submitted all recorded data to a custom server. To be able to monitor and control the experiment, the server also had a web interface with a number of tools available. The study operator could control which experiment is currently running. During testing it was found that it can be disorienting for the participant to be switched from on scene to another. That is why this control was done manually so the operator can make sure the participant knows what is coming and is not surprised by the scene switch.

To check if the gesture was recorded correctly, the server provides a 3D visualization of the gesture, as well as a way to delete improperly recorded information as shown in \ref{fig:vis}. This visualization also shows which of the previous recordings are also able to be used to aid the gesture detection step, since they are similar to the current recording. They are shown in green in the visualization, while red points represent ignored data points. To be able to find which data points belong to which recording each can be selected individually and deleted if there was a problem. To be able to find outliers quickly, the average distance to all the other gestures is also displayed in the selection menu. This was very handy to delete a recording that was assigned to the wrong gesture state and therefore very dissimilar to the other recordings. The recording would then show a large distance to the others and could easily be deleted and rerecorded. All this was very important so the calibration was consistent and reliable for every participant.

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/point cloud vis.jpg}
    \caption{3D visualization of recorded gesture information as a point cloud, together with static joints.}
    \label{fig:vis}
\end{figure}
\begin{figure}[!htb]
    \minipage{0.49\textwidth}
        \includegraphics[width=\linewidth]{figures/point cloud vis.JPG}
    \endminipage\hfill
    \minipage{0.\textwidth}
        \includegraphics[width=\linewidth]{figures/point cloud vis2.JPG}
        \label{fig:vis}
    \endminipage\hfill
    \caption{3D visualization of recorded gesture information for two different states as a point cloud, together with static joints. The green points are selected during the calibration step.}
\end{figure}

As shown in \ref{fig:map}, the operator was also able to see the position and gaze direction of the participant on a map, as well as the position of the magic potion. This was done in order to be able to give some support to the participant if they required it and to check if the data recording was working. 

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/map.png}
    \caption{Study operators view of the participants position and gaze direction.}
    \label{fig:map}
\end{figure}
% TODO: update grafik

To be able to identify what data point belongs to what participant, the server included an interface to manage runs. The operator would first start a new run, which generates a random 3 letter code. This code was used to be able to match the recording data of one participant anonymously to other data collected during the experiment, like from the questionnaires. The operator stopped the run after the experiments were completed using the interface and was then able to download and backup the data for each run individually.
% TODO: runs grafik
% TODO: ref

\section{Procedure}
Before the experiment could start, the participants were informed about teleportation in general and that there is not yet an established way to control teleportation using hand-tracking.

The operator would then give instructions how the calibration is performed, show the participant how the gesture works and calibrate it together with the participant. The calibration procedure was run three times per state, switching gesture states after each recording. The natural differences between each repetition gave added flexibility since the recordings are all used as a reference during the gesture detection.

After the calibration, the participants would complete both experiments and fill out the questionnaires. This was not done using the VR headset itself, but using a tablet device to give the user some resting time between each run. This procedure was repeated for all three gestures. 
The order of the gestures the participants had to use was fully counter balanced in order to minimize the learning effect. This means that during the study it was made sure that three participants would always receive each of the six combinations possible. 
After all experiments and quantitative information was collected, the participants where asked to give some qualitative feedback and to share the impressions they got from using the system, as well as rank the gestures. The ranking was both done for overall preference and for how ergonomic the gesture was to use.   

%TODO: ablauf schaubild

\section{Results}
Following the order of the research questions, this section presents the results of the study. To
indicate the approach for action integration, subscript S is used for Separation, subscript C for
Composition, and subscript H for Hybrid. The Shapiro-Wilk test was used to test if the results
for the different measures were normally distributed. As the data violated the assumption of a
normal distribution, a non-parametric approach was used to analyze it. Further, medians (Mdn) are
reported. To detect differences between the three conditions for each pass, Friedman‚Äôs ANOVA was
used. If this test showed differences, post hoc analysis was performed with Dunn-Bonferroni-Tests.
The Wilcoxon signed-rank test was used for comparing the passes within each condition (i.e., pass
1 versus pass 2). Generally, an alpha level of 0.05 was assumed for all statistical tests. For the
pairwise comparisons, the Bonferroni correction required to adjust the alpha level to (.05/3) = .016.
% TODO: reword

The analysis of the task completion time for the second experiment shows a statistically significant difference when using the different gesture systems. 

The distance of every teleport was recorded in both experiments. When looking at the data, some interesting insights can be found. %TODO: distance statistics

The data recorded from the second experiment is displayed in \ref{fig:exp2maps} similarly to the way Bozgeyikli et al. %cite
display their results. 

\begin{figure}[!htb]
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/index map.png}
        \caption{Map of all teleport locations using the index gestures}\label{fig:map_index}
    \endminipage\hfill
    \minipage{0.32\textwidth}
        \includegraphics[width=\linewidth]{figures/palm map.png}
        \caption{Map of all teleport locations using the palm gestures}\label{fig:map_palm}
    \endminipage\hfill
    \minipage{0.32\textwidth}%
        \includegraphics[width=\linewidth]{figures/triangle map.png}
        \caption{Map of all teleport locations using the triangle gestures}\label{fig:map_triangle}
        \label{fig:exp2maps}
    \endminipage
\end{figure}
    
The visualizations clearly show a difference in how messy the teleport targets where placed using the index gesture, and how much cleaner they are when the participants used the triangle gesture, with the palm gesture somewhere in the middle. However none of the gesture based teleportation techniques produce as efficient routes between the targets as the results shown by Bozgeyikli et al.



\subsection{Cybersickness}
After the user study not a single user reported any problems with cybersickness or quit the experiment even after a session of 40 minutes. Cybersickness was a problem during the implementation testing where the detection algorithm was still in development because of false positive detections that could make the system unpredictable.

\section{Limitations}
The system was not configured for left handed gestures to eliminate another variable but this would be needed for use in a productive environment and was also something that was requested by the participants even by somebody with a dominant right hand to get some variety. 

The study originally included an experiment designed to compare the teleportation methods based on path integration like Bhandari et al. \cite{Bhandari} did in their study. This was dropped because of a lack of time but could be an interesting experiment to run in the future.
